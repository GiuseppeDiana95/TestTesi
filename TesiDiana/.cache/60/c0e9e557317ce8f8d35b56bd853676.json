{"id":"../node_modules/react-mosaic-component/lib/MosaicRoot.js","dependencies":[{"name":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/lib/MosaicRoot.js.map","includedInParent":true,"mtime":1695993896371},{"name":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/src/MosaicRoot.tsx","includedInParent":true,"mtime":1695993900089},{"name":"/home/giuseppe/Scrivania/TesiDiana/package.json","includedInParent":true,"mtime":1698312122672},{"name":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/package.json","includedInParent":true,"mtime":1695993894381},{"name":"lodash/flatten","loc":{"line":31,"column":40,"index":1254},"parent":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/lib/MosaicRoot.js","resolved":"/home/giuseppe/Scrivania/TesiDiana/node_modules/lodash/flatten.js"},{"name":"react","loc":{"line":32,"column":38,"index":1312},"parent":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/lib/MosaicRoot.js","resolved":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react/index.js"},{"name":"./contextTypes","loc":{"line":33,"column":29,"index":1352},"parent":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/lib/MosaicRoot.js","resolved":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/lib/contextTypes.js"},{"name":"./Split","loc":{"line":34,"column":22,"index":1393},"parent":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/lib/MosaicRoot.js","resolved":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/lib/Split.js"},{"name":"./util/BoundingBox","loc":{"line":35,"column":28,"index":1433},"parent":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/lib/MosaicRoot.js","resolved":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/lib/util/BoundingBox.js"},{"name":"./util/mosaicUtilities","loc":{"line":36,"column":32,"index":1488},"parent":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/lib/MosaicRoot.js","resolved":"/home/giuseppe/Scrivania/TesiDiana/node_modules/react-mosaic-component/lib/util/mosaicUtilities.js"}],"generated":{"js":"\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicRoot = void 0;\nvar flatten_1 = __importDefault(require(\"lodash/flatten\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"./contextTypes\");\nvar Split_1 = require(\"./Split\");\nvar BoundingBox_1 = require(\"./util/BoundingBox\");\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\nvar MosaicRoot = /** @class */ (function (_super) {\n    __extends(MosaicRoot, _super);\n    function MosaicRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onResize = function (percentage, path, suppressOnRelease) {\n            _this.context.mosaicActions.updateTree([\n                {\n                    path: path,\n                    spec: {\n                        splitPercentage: {\n                            $set: percentage,\n                        },\n                    },\n                },\n            ], suppressOnRelease);\n        };\n        return _this;\n    }\n    MosaicRoot.prototype.render = function () {\n        var root = this.props.root;\n        return react_1.default.createElement(\"div\", { className: \"mosaic-root\" }, this.renderRecursively(root, BoundingBox_1.BoundingBox.empty(), []));\n    };\n    MosaicRoot.prototype.renderRecursively = function (node, boundingBox, path) {\n        if (mosaicUtilities_1.isParent(node)) {\n            var splitPercentage = node.splitPercentage == null ? 50 : node.splitPercentage;\n            var _a = BoundingBox_1.BoundingBox.split(boundingBox, splitPercentage, node.direction), first = _a.first, second = _a.second;\n            return flatten_1.default([\n                this.renderRecursively(node.first, first, path.concat('first')),\n                this.renderSplit(node.direction, boundingBox, splitPercentage, path),\n                this.renderRecursively(node.second, second, path.concat('second')),\n            ].filter(nonNullElement));\n        }\n        else {\n            return (react_1.default.createElement(\"div\", { key: node, className: \"mosaic-tile\", style: __assign({}, BoundingBox_1.BoundingBox.asStyles(boundingBox)) }, this.props.renderTile(node, path)));\n        }\n    };\n    MosaicRoot.prototype.renderSplit = function (direction, boundingBox, splitPercentage, path) {\n        var _this = this;\n        var resize = this.props.resize;\n        if (resize !== 'DISABLED') {\n            return (react_1.default.createElement(Split_1.Split, __assign({ key: path.join(',') + 'splitter' }, resize, { boundingBox: boundingBox, splitPercentage: splitPercentage, direction: direction, onChange: function (percentage) { return _this.onResize(percentage, path, true); }, onRelease: function (percentage) { return _this.onResize(percentage, path, false); } })));\n        }\n        else {\n            return null;\n        }\n    };\n    MosaicRoot.contextType = contextTypes_1.MosaicContext;\n    return MosaicRoot;\n}(react_1.default.PureComponent));\nexports.MosaicRoot = MosaicRoot;\nfunction nonNullElement(x) {\n    return x !== null;\n}\n"},"sourceMaps":{"js":{"version":3,"file":"MosaicRoot.js","sourceRoot":"","sources":["../src/MosaicRoot.tsx"],"names":[],"mappings":"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","sourcesContent":["import flatten from 'lodash/flatten';\nimport React from 'react';\nimport { MosaicContext } from './contextTypes';\nimport { Split } from './Split';\nimport { MosaicBranch, MosaicDirection, MosaicKey, MosaicNode, ResizeOptions, TileRenderer } from './types';\nimport { BoundingBox } from './util/BoundingBox';\nimport { isParent } from './util/mosaicUtilities';\n\nexport interface MosaicRootProps<T extends MosaicKey> {\n  root: MosaicNode<T>;\n  renderTile: TileRenderer<T>;\n  resize?: ResizeOptions;\n}\n\nexport class MosaicRoot<T extends MosaicKey> extends React.PureComponent<MosaicRootProps<T>> {\n  static contextType = MosaicContext;\n  context!: MosaicContext<T>;\n\n  render() {\n    const { root } = this.props;\n    return <div className=\"mosaic-root\">{this.renderRecursively(root, BoundingBox.empty(), [])}</div>;\n  }\n\n  private renderRecursively(\n    node: MosaicNode<T>,\n    boundingBox: BoundingBox,\n    path: MosaicBranch[],\n  ): JSX.Element | JSX.Element[] {\n    if (isParent(node)) {\n      const splitPercentage = node.splitPercentage == null ? 50 : node.splitPercentage;\n      const { first, second } = BoundingBox.split(boundingBox, splitPercentage, node.direction);\n      return flatten(\n        [\n          this.renderRecursively(node.first, first, path.concat('first')),\n          this.renderSplit(node.direction, boundingBox, splitPercentage, path),\n          this.renderRecursively(node.second, second, path.concat('second')),\n        ].filter(nonNullElement),\n      );\n    } else {\n      return (\n        <div key={node} className=\"mosaic-tile\" style={{ ...BoundingBox.asStyles(boundingBox) }}>\n          {this.props.renderTile(node, path)}\n        </div>\n      );\n    }\n  }\n\n  private renderSplit(\n    direction: MosaicDirection,\n    boundingBox: BoundingBox,\n    splitPercentage: number,\n    path: MosaicBranch[],\n  ) {\n    const { resize } = this.props;\n    if (resize !== 'DISABLED') {\n      return (\n        <Split\n          key={path.join(',') + 'splitter'}\n          {...resize}\n          boundingBox={boundingBox}\n          splitPercentage={splitPercentage}\n          direction={direction}\n          onChange={(percentage) => this.onResize(percentage, path, true)}\n          onRelease={(percentage) => this.onResize(percentage, path, false)}\n        />\n      );\n    } else {\n      return null;\n    }\n  }\n\n  private onResize = (percentage: number, path: MosaicBranch[], suppressOnRelease: boolean) => {\n    this.context.mosaicActions.updateTree(\n      [\n        {\n          path,\n          spec: {\n            splitPercentage: {\n              $set: percentage,\n            },\n          },\n        },\n      ],\n      suppressOnRelease,\n    );\n  };\n}\n\nfunction nonNullElement(x: JSX.Element | JSX.Element[] | null): x is JSX.Element | JSX.Element[] {\n  return x !== null;\n}\n"]}},"error":null,"hash":"0ce273bac625bd4fa5081dd9b0bd8548","cacheData":{"env":{}}}